#pragma once

//////////////////////////////////////////////////////////////////////////
/// Forward Declarations
//////////////////////////////////////////////////////////////////////////

class CSoundSystem;


//////////////////////////////////////////////////////////////////////////
/// CAudioEffect
//////////////////////////////////////////////////////////////////////////

// processes audio data
class IAudioEffect
{
public :

    //////////////////////////////////////////////////////////////////////////

    IAudioEffect( CSoundSystem* aSoundSystem, UINT32 someFlags = 0, UINT32 aChannelCount = 1, UINT32 aSampleRate = 44000 );
    virtual ~IAudioEffect();

    //////////////////////////////////////////////////////////////////////////

    IXAudio2SubmixVoice*    GetVoice() const;

    UINT32                  GetChannelCount() const;
    void                    SetChannelCount( UINT32 aChannelCount );

    UINT32                  GetSampleRate() const;
    void                    SetSampleRate( UINT32 aSampleRate );


protected:

    //////////////////////////////////////////////////////////////////////////

    bool                    CreateVoice();

    //////////////////////////////////////////////////////////////////////////

    IXAudio2SubmixVoice*    myVoice;
    UINT32                  myChannelCount;
    UINT32                  mySampleRate;
    UINT32                  myVoiceFlags;

    CSoundSystem*           mySoundSystem;
};

//////////////////////////////////////////////////////////////////////////
