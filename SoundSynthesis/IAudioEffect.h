#pragma once

//////////////////////////////////////////////////////////////////////////
/// Includes
//////////////////////////////////////////////////////////////////////////

#include "IAudioVoice.h"


//////////////////////////////////////////////////////////////////////////
/// CAudioEffect
//////////////////////////////////////////////////////////////////////////

// processes audio data
class IAudioEffect : public IAudioVoice
{
public :

    //////////////////////////////////////////////////////////////////////////

    IAudioEffect( CSoundSystem* aSoundSystem, UINT32 someFlags = 0, UINT32 aChannelCount = 1, UINT32 aSampleRate = 44000 );
    virtual ~IAudioEffect();

    //////////////////////////////////////////////////////////////////////////

    UINT32                  GetChannelCount() const;
    void                    SetChannelCount( UINT32 aChannelCount );

    UINT32                  GetSampleRate() const;
    void                    SetSampleRate( UINT32 aSampleRate );


protected:

    //////////////////////////////////////////////////////////////////////////

    bool                    CreateVoice() override;
    void                    InitializeBuffer( UINT32 aByteCount, UINT32 someFlags ) override {}

    //////////////////////////////////////////////////////////////////////////

    IXAudio2SubmixVoice*    myVoice;
    UINT32                  myChannelCount;
    UINT32                  mySampleRate;
};

//////////////////////////////////////////////////////////////////////////
