#pragma once

//////////////////////////////////////////////////////////////////////////
/// Includes
//////////////////////////////////////////////////////////////////////////

#include "IEffect.h"




//////////////////////////////////////////////////////////////////////////
/// PitchShift
//////////////////////////////////////////////////////////////////////////

class CPitchShift : public IEffect
{
public :

    //////////////////////////////////////////////////////////////////////////

    CPitchShift( double aPitchShiftFactor );
    ~CPitchShift();

    //////////////////////////////////////////////////////////////////////////

    bool ProcessAudio( const char* anInputFile, const char* anOutputFile ) override;


private :

    //////////////////////////////////////////////////////////////////////////

    int     GetDelayData( long aTime );
    void    SetDelayData( int aValue );
    double  SinC( double aValue );

    //////////////////////////////////////////////////////////////////////////

    double	m_pitchShiftFactor;
	int*	m_delayBuffer;
};


//////////////////////////////////////////////////////////////////////////