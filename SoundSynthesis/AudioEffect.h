#pragma once

//////////////////////////////////////////////////////////////////////////
/// Includes
//////////////////////////////////////////////////////////////////////////

#include "IAudioObject.h"


//////////////////////////////////////////////////////////////////////////
/// Forward Declarations
//////////////////////////////////////////////////////////////////////////

class CSoundSystem;


//////////////////////////////////////////////////////////////////////////
/// CAudioEffect
//////////////////////////////////////////////////////////////////////////

// processes audio data
class CAudioEffect : public IAudioObject
{
public :

    //////////////////////////////////////////////////////////////////////////

    CAudioEffect( CSoundSystem* aSoundSystem, UINT32 someFlags = 0, UINT32 aChannelCount = 1, UINT32 aSampleRate = 44000 );
    virtual ~CAudioEffect();

    //////////////////////////////////////////////////////////////////////////

    IXAudio2SubmixVoice*    GetVoice() const;

    UINT32                  GetChannelCount() const;
    void                    SetChannelCount( UINT32 aChannelCount );

    UINT32                  GetSampleRate() const;
    void                    SetSampleRate( UINT32 aSampleRate );


protected:

    //////////////////////////////////////////////////////////////////////////

    bool                    CreateVoice() override;

    //////////////////////////////////////////////////////////////////////////

    IXAudio2SubmixVoice*    myVoice;
    UINT32                  myChannelCount;
    UINT32                  mySampleRate;
};

//////////////////////////////////////////////////////////////////////////
